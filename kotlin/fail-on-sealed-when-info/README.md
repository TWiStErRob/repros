https://youtrack.jetbrains.com/issue/KT-37651

Idea based on https://github.com/johncarl81/parceler/issues/381

Code based on https://stackoverflow.com/q/38169933/253468
